
@{
    ViewBag.Title = "Cadastro de Usuários";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<h2>Cadastro de Usuários</h2>

@if (ViewBag.Usuarios.Count > 0)
{
<div class="table-responsive">
    <table id="tbrelatorio" style="width:100%">
        <thead>
            <tr style="background-color: #000000; color:#ffffff">
                <td>Nome</td>
                <td>E-mail</td>
                <td>Ação</td>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in ViewBag.Usuarios)
            {
                <tr>
                    <td>@item.Nome</td>
                    <td>@item.Email</td>
                    <td>
                        <a href="~/Usuario/Senha/@item.ID" onclick="return ConfirmaAcao('Deseja alterar a senha deste usuário?')">Alterar Senha</a> |
                        <a href="~/Usuario/Editar/@item.ID">Ver detalhes</a> |
                        @if (ViewBag.UsuarioLogin.ID != item.ID)
                        {
                            <a href="~/Usuario/Delete/@item.ID" onclick="return ConfirmaAcao('excluir este registro?')" style="color:#ff0000">|X| Excluir</a>
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <br />
    <br />
    <div style="color:@ViewBag.CorFonte">@ViewBag.MensagemRetorno</div>
    <input type="button" id="btnRel" value="Gerar relatorio" onclick="window.open('@ViewBag.LinkRelatorio01')" />
    <input type="button" id="btnNovo" value="Novo usuário" onclick="window.location.href='@ViewBag.LinkCadastro'" />
</div>
}
else
{
    <br />
    <br />
    <div style="color:#ff0000; font-weight:bold">Nenhum registro encontrado</div>
}

